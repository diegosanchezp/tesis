{% load slippers %}

{# Component inputs, with defaults #}
{% var left_line=left_line|default:"true" %}
{% var right_line=right_line|default:"true" %}
{% var number=number|default:1 %}
{% var state=state|default:"not_completed" %}
{% var green_right_line %}
{% var green_left_line %}

{% var text=text|default:"" %}
{% var url=url|default:"" %}

{# configuration variables #}
{% var line_class="flex flex-col w-full justify-center items-center" %}

{# main body of the stepper component #}
<div class="flex flex-col w-[300px]">
    <a {% if url %} href="{{ url }}" {% endif %}
    class="
    {% spaceless %}
        text-base
        {% if state == "completed" %}
            text-gray-600
        {% else %}
            text-gray-700
        {% endif %}
        text-center mb-3
    {% endspaceless %}
    "
    >{{ text }}</a>
    <div class="flex">

        {# left line #}
        <div class="{{ line_class }}">

            {# If left_line is false set the background color as transparent #}
            <div class="
                {% spaceless %}
                    {% if left_line == 'true'%}
                        {% if green_left_line %}
                            bg-green-200
                        {% else %}
                            bg-blue-400
                        {% endif %}
                    {% else %}
                        bg-transparent
                    {% endif %}
                    h-[1px] w-full
                {% endspaceless %}
            ">
            </div>
        </div>


        {# This div is circle that contains the number #}
        <a {% if url %} href="{{ url }}" {% endif %}>
            {% if state != "completed" %}
                <div class="
                    flex items-center justify-center w-12 h-12 border border-blue-600 rounded-full shrink-0
                    bg-blue-700 text-white

                    ">
                    <span class="text-base">{{ number }}</span>
                </div>
            {% else %}
                <span class="flex items-center justify-center w-12 h-12 bg-green-200 rounded-full">
                    <svg class="w-3.5 h-3.5 text-green-500" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 12">
                        <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M1 5.917 5.724 10.5 15 1.5"/>
            </svg>
        </span>
            {% endif %}
        </a>

        {# right line #}
        <div class="{{ line_class }}">
            {# If left_line is false the background color as transparent #}
            <div class="
            {% spaceless %}
                {% if right_line == 'true'%}
                    {% if green_right_line %}
                        bg-green-200
                    {% else %}
                        bg-blue-400
                    {% endif %}
                {% else %}
                    bg-transparent
                {% endif %}
                    h-[1px] w-full"
            {% endspaceless %}
            >
            </div>
        </div>
    </div>
</div>
